var slides=document.querySelectorAll(".slide"),dots=document.querySelectorAll(".slider-toggle"),nextSlideBtn=document.querySelector(".btn-next"),prevSlideBtn=document.querySelector(".btn-back"),slideIndex=1;showSlides(slideIndex);function plusSlide(a){slideIndex+=a,showSlides(slideIndex)}function currentSlide(a){slideIndex=a,showSlides(slideIndex)}nextSlideBtn.addEventListener("click",function(){plusSlide(1)}),prevSlideBtn.addEventListener("click",function(){plusSlide(-1)});for(let a=0;a<dots.length;a++)dots[a].addEventListener("click",function(){currentSlide(a+1)});function showSlides(a){a>slides.length&&(slideIndex=1),1>a&&(slideIndex=slides.length);for(var b=0;b<slides.length;b++)slides[b].classList.remove("slide-current"),dots[b].classList.remove("slider-toggle-current");dots[slideIndex-1].classList.add("slider-toggle-current"),slides[slideIndex-1].classList.add("slide-current")}var btnbuyLink=document.querySelector(".product-list-grid"),buyLink=document.querySelector(".btn-buy"),basketPopup=document.querySelector(".popup-basket"),basketClose=basketPopup.querySelector(".close-popup-basket");btnbuyLink.addEventListener("click",function(a){a.preventDefault(),a.target.classList.value.includes("btn-buy")&&basketPopup.classList.add("modal-show")}),basketClose.addEventListener("click",function(a){a.preventDefault(),basketPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&basketPopup.classList.contains("modal-show")&&(a.preventDefault(),basketPopup.classList.remove("modal-show"))});var servicesSlides=document.querySelectorAll(".slide-services"),servicesControls=document.querySelectorAll(".btn-item-services");servicesControls.forEach((a,b)=>{a.addEventListener("click",function(){servicesControls.forEach(a=>{a.classList.remove("btn-item-current")}),servicesSlides.forEach(a=>{a.classList.remove("slide-services-current")}),a.classList.add("btn-item-current"),servicesSlides[b].classList.add("slide-services-current")})});var mapLink=document.querySelector(".map-link"),mapPopup=document.querySelector(".popup-map"),mapClose=mapPopup.querySelector(".close-item-map");mapLink.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("modal-show")&&(a.preventDefault(),mapPopup.classList.remove("modal-show"))});var formLink=document.querySelector(".btn-info-contacts"),formPopup=document.querySelector(".modal-form-feedback"),formClose=formPopup.querySelector(".close-item"),modalForm=formPopup.querySelector(".modal-form"),nameForm=formPopup.querySelector(".modal-name"),mailForm=formPopup.querySelector(".modal-mail"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(a){isStorageSupport=!1}formLink.addEventListener("click",function(a){a.preventDefault(),formPopup.classList.add("modal-show"),storage?(nameForm.value=storage,mailForm.focus()):nameForm.focus()}),formClose.addEventListener("click",function(a){a.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(a){nameForm.value&&mailForm.value?isStorageSupport&&localStorage.setItem("name",nameForm.value):(a.preventDefault(),formPopup.classList.remove("modal-error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&formPopup.classList.contains("modal-show")&&(a.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
